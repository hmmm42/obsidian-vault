# 二维
#hot100
[42. 接雨水 - 力扣（LeetCode）](https://leetcode.cn/problems/trapping-rain-water/)
## 单调栈
```go
func trap(height []int) (res int) {
	var st []int
	for i, h := range height {
		for len(st) > 0 && height[st[len(st)-1]] <= h {
			curH := height[st[len(st)-1]]
			st = st[:len(st)-1]
			if len(st) > 0 {
				preI, preH := st[len(st)-1], height[st[len(st)-1]]
				w := i - preI - 1
				res += w * (min(h, preH) - curH)
			}
		}
		st = append(st, i)
	}
	return
}

```
## 双指针
每一格能装的水量, 等于这个格的 `min(前缀最大值, 后缀最大值) - 当前格高度`
```go
func trap(height []int) (res int) {
  l, r, lMax, rMax := 0, len(height)-1, 0, 0
  for l < r {
    lMax = max(lMax, height[l])
    rMax = max(rMax, height[r])
    if lMax < rMax {
      l++
      res += max(lMax - height[l], 0)
    } else {
      r--
      res += max(rMax - height[r], 0)
    }
  }
  return
}
```