# 进制

**二进制**
按权展开法:$1011=1*2^3+0*2^2+1*2^1+1*2^0=11$
位置计数:从右向左,第n位的权值为$2^{n-1}$

位:单个二进制数字
最高/最低有效位:最左/右的非零位
字节:8位二进制数字
半字节:4位二进制数字
最高/最低有效字节:最左/右的非零字节
字:微处理器处理的一块数据,大小取决于结构,32位微处理器使用32位字

低位扩展:
**0扩展**:在左边加0
**符号扩展**:在左边加符号位

## (无符号)四则运算
**加法**:逢二进一
**减法**:借一减一
**乘法**:只有$1\times1=1$
**除法**:$1\div1=1$,$0\div1=0$

减去一个数等于加上这个数的补码
**补码**:原码取反加一 

小数的二进制表示:乘2取整
eg.$(0.625)_10$ : $0.625\times2=1.25$=>$1.25\times2=0.5$=>$0.5\times2=1.0$
=>$(0.101)_2$

## 原码、反码、补码
**原码**:最高位为符号位,0表示正数,1表示负数
**反码**:正数的反码是其本身,负数的反码是对应正数的符号位不变,其他位取反
**补码**:正数的补码是其本身,负数的补码是对应正数的符号位不变,其他位取反加一
- ! 同时,$B2T_w(\vec{x})=-x_{w-1}2^{w-1}+\sum_{i=0}^{w-2}x_i2^i$

*三种码都比真值的位数多一,最高位的0/1分别表示正负*

有符号数减法:一定是大数减小数,如果是小减大则先反过来,再添加负号

# 码制
## BCD码
**BCD码**:用4位二进制数表示一个十进制数的一位
$(185)_{10}=(0001\ 1000\ 0101)_{BCD}=(10111001)_2$
*BCD加法:将两个BCD数相加,若结果大于1010(9),则再加上 0110(6,10的补码)*
*BCD减法:用10的补码来表示负数.如有符号位,0表示正数,9表示负数*

**8421码**:BCD码的一种,每个十进制数用4位二进制数表示
**2421码**:8421码的一种,每个十进制数用4位二进制数表示,但是权值不同,可以在10进制内取反
**余三码**:8421码+11(即3)
**84-2-1码**:正负权值

## ASCII码
用7位二进制数表示一个字符,共有128个字符
最左侧增加一位奇偶校验位,形成8位ASCII码

## 格雷码 
相邻的两个数的二进制表示只有一位不同,满足机械的可靠性
分别以2,4为轴,对称
![[Pasted image 20240903213705.png|350]]
## 奇偶校验码,汉明码

# 逻辑代数
## 逻辑门
**或门**:两个输入都为0时输出为0,其他为1 *半圆+角*
**与门**:两个输入都为1时输出为1,其他为0 *半圆*
**非门**:输入为0时输出为1,输入为1时输出为0 *三角+圈*
- ! 优先级:非>与>或

>[!note|pz]+
开-0,关-1
亮-1,灭-0
**正逻辑**:0-低电平,1-高电平
**负逻辑**:0-高电平,1-低电平

### 电路逻辑图
- 输入在左边（或 顶部） 
- 输出在右边（或 底部） 
- 门:从左流向右 
- 使用直线，而不是拐角线  
- 在有实心点的十字相交处相连 

## 逻辑代数
### 公理
1. **0-1律**: $A+0=A$,$A+1=1$,$A\cdot0=0$, $A\cdot1=A$
2. **互补律**: $A+A'=1$, $A\cdot A'=0$
3. **交换律**: $A+B=B+A$, $A\cdot B=B\cdot A$
4. **结合律**: $(A+B)+C=A+(B+C)$, $(A\cdot B)\cdot C=A\cdot(B\cdot C)$
5. **分配律**: $A\cdot(B+C)=A\cdot B+A\cdot C$, 
	- ! $A+(B\cdot C)=(A+B)\cdot(A+C)$

### 定理
1. **0-1律**: $0+0=0$, $0\cdot0=0$, $1+1=1$, $1\cdot1=1$, $0+1=1$, $0\cdot1=0$
2. **重叠律**: $A+A=A$, $A\cdot A=A$
3. **摩根定理**: $\overline{A+B}=\overline{A}\cdot\overline{B}$, $\overline{A\cdot B}=\overline{A}+\overline{B}$
4. **吸收律**: $A+A\cdot B=A$, $A\cdot(A+B)=A$
5. **消除律**: $A+\overline{A}\cdot B=A+B$, $A\cdot(\overline{A}+B)=A\cdot B$
6. **并项律**: $(A+B)\cdot(A+\overline{B})=A+B$, $(A+B)\cdot(A+B')=A+B$

### 推气泡法
气泡推入后,与门$\Leftrightarrow$或门
### 三个规则
- **代入规则**:
将A用F取代,等式仍然成立.
- **反演规则**:
求反函数$\overline{F}$ :$+ \Leftrightarrow \cdot$  ,  $1 \Leftrightarrow 0$, 原变量取反 ==eg.摩根定理==
- **对偶规则**:
$F=G\Leftrightarrow F'=G'$
求对偶式$F'$ :$+ \Leftrightarrow \cdot$  ,  $1 \Leftrightarrow 0$,~~原变量取反~~

*证明一个逻辑等式可以证明其对偶式*
*或-与式$\Rightarrow$与-或式*

## 表达形式
### 标准式
每一项都包含所有的变量
**最小项**:先与再或 $\Sigma m$
**最大项**:先或再与 $\Pi M$

*两个关系*
$F=\Sigma m_{i} \Leftrightarrow \overline{F}=\Pi M_{j}$
$F=\Sigma m_{i} \Leftrightarrow F=\Pi M_{j}\,,i\neq j$

# 卡诺图
**相邻的最小项消去取值不同的因子后可以合并**
使用*格雷码*
上下,左右也相邻  ==卷起来看==
单元格可以重复利用 

四变量卡诺图:除了上下左右,还有四个角相邻
**必要质蕴含**:只被一个圈所包含,这个圈包含的其他项都是多余的
最后只需处理剩下的1项 

## 无关项
**无关项**:不影响函数的值,可以取0或1 ==用于化简==

从卡诺图的角度理解反函数和对偶:
- 反函数:1变成0,0变成1
- 对偶:沿着0-1对称

# 组合逻辑电路
- 组合逻辑电路:只有输入和输出,没有存储元件
- 时序逻辑电路:有存储元件,有记忆功能

## 竞争冒险
- 竞争:多个输入同时反向变化
- 冒险:输出在竞争中出现短暂的错误值
- 延迟:输入变化到输出变化的时间

冒险的判断:出现$X+\overline{X}$或$X\cdot\overline{X}$
解决方法:加入冗余项
# 组合模块
## 复用器 MUX
选择输入中的一个输出 
`always @(a, b, s)`:当a,b,s中任意一个变化时,重新计算输出
`always @(*)`:当任何输入变化时,重新计算输出

多位表达方法:
```systemverilog
led[7-:7] = 7'b0;
led[1+:7] = 7'b0;
```

**用复用器实现布尔函数**
1. 列真值表
2. 前$n-1$个变量为选择信号,最后一个变量为输出

## 分配器 DMUX
将一个输入分配到多个输出

## 译码器 DECODER
将具有*特定含义*的二进制码转换成对应输出信号的逻辑电路
多->少
相当于将所有最小项列出来,然后用与门实现

编码器:少->多

74LS138:3-8译码器
使能端:$S_{1}=0 \vee \overline{S_{2}}+\overline{S_{3}}=0$时,输出为全1(无效)
使能有效:1 0 0

## 编码器 ENCODER 

`casez`识别无关项:`4'b1???`

## 移位器 SHIFTER

# 锁存器,触发器
## 锁存器
有反馈,有记忆 
$SR$锁存器:两个或非门
R=1,S=0:置0   R=0,S=1:置1   R=S=0:保持   R=S=1:禁止
特征方程:$Q^{n+1}=S+\overline{R}Q^{n}$  约束条件:$S\cdot R=0$

$\overline{S}\,\overline{R}$锁存器:两个与非门

## 边沿触发器
只在clk的上升沿或下降沿触发

JK触发器:clk上升沿触发
- J=K=1:翻转
- J=1,K=0:置1
- J=0,K=1:置0
- J=K=0:保持
