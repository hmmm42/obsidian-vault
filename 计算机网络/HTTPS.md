https安全在哪？

HTTPS (Hypertext Transfer Protocol Secure) 的安全主要体现在三个方面, 合称为 TLS/SSL 协议提供的安全保障:

- 机密性 (Confidentiality):
	- 内容加密. 通信双方使用对称加密算法 (如 AES) 来加密传输的所有数据. 即使网络包被中间人截获, 由于没有密钥,他也无法解密出报文的真实内容.
	- 密钥协商. 对称加密的密钥本身是通过非对称加密算法 (如 RSA) 在初始握手阶段安全地交换的. 客户端用服务器的公钥加密一个随机数(预主密钥), 发送给服务器, 只有服务器用私钥才能解开, 然后双方根据这个随机数生成最终的会话密钥.
- 完整性 (Integrity):
	- 防篡改. 通信双方会使用一个叫做 消息认证码 (MAC) 的算法来为传输的数据计算一个"摘要"或"签名". 接收方会用同样的密钥和算法重新计算一遍摘要, 并与收到的摘要进行比对. 如果数据在传输过程中被篡改, 计算出的摘要就会不匹配, 接收方就会发现并丢弃该数据包.
- 身份认证 (Authentication):
	- 验证服务器身份. 这是防止钓鱼网站的关键. 服务器会向客户端出示一个由权威 证书颁发机构 (CA) 签发的数字证书. 你的浏览器/操作系统内置了这些权威 CA 的公钥. 浏览器会用 CA 的公钥去验证证书的签名是否有效, 并检查证书上的域名是否与你正在访问的域名一致. 这证明了你正在与之通信的服务器确实是它所声称的那个服务器, 而不是一个伪装的中间人.

简单来说, HTTPS 保证了: 你访问的网站是真网站 (身份认证), 你和网站之间说的话别人听不懂 (机密性), 也不能被篡改 (完整性).