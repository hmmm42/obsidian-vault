数据: create_order 60 qps, 响应时间 150ms, p90: 568ms
瓶颈: 
- 向 stripe 发送请求获取 prod_price
	- 解决: 从 redis 中获取
- 数据库 slow sql 
	- 分析: 悲观锁 `select for update`
	- 解决: 减少锁粒度
**分离库存检查与扣减操作（更复杂的模式，可能超出面试项目范围）**
- **预检查（弱一致性）**：查询库存时不加锁，或者使用非常短暂的读锁。
- **尝试扣减（强一致性）**：如果预检查通过，再尝试进行加锁扣减。
- 这种方式可以减少不必要的加锁，但增加了流程的复杂性。