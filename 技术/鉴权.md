# Cookie
只适用于浏览器, 以键值对存储
- **大小限制**：单个cookie通常不能超过4KB。
- **安全性**：如果直接在cookie中存储敏感信息，很容易被篡改。
- **跨域问题**：默认情况下，cookie是不能跨域共享的。
==Cookie只是浏览器的存储介质, 可以用来存储任何东西，包括Session ID，也可以存储一个完整的JWT==
# Session
- **Session-based Authentication:** 用户登录成功后，服务器会创建一个Session，并生成一个Session ID存储在用户的Cookie中。后续请求会携带该Session ID，服务器通过Session ID识别用户。==一般将`<SessionID, UserInfo>`键值对存入 redis==
    - **优点:** 实现简单，服务器端可以维护用户状态。
    - **缺点:** 在分布式或微服务架构下，Session共享和管理变得复杂。
# Token
**Token** 是一种基于**客户端存储**的鉴权方式，它解决了Session的分布式问题。
- **是什么**：一个不包含敏感信息的、由服务器生成的字符串，用于标识用户身份。
- **作用**：用户登录后，服务器生成一个Token并将其返回给客户端。客户端（如浏览器、移动App）将这个Token存储在本地（如`localStorage`或`sessionStorage`）。之后的每一次请求，客户端都将Token放在HTTP请求头中发送给服务器。服务器收到请求后，会验证这个Token的有效性。
- **特点**：
    - **无状态**：服务器不再需要存储用户的Session信息，完全依赖客户端发送的Token来判断身份。这大大减轻了服务器的负担。
    - **可扩展性**：非常适合分布式系统，因为任何一台服务器都可以验证同一个Token。
    - **跨域**：Token不受同源策略限制，可以在不同域名之间传递。
    - **安全性**：Token本身不加密，但通常包含一个签名，防止被篡改。
**总结**：Token就像是服务器发给用户的**“入场券”**。用户登录后拿到这张券，每次访问时都出示这张券，服务器检查券的真伪，而不需要记住每个人的身份。

- **Token Authentication (例如 JWT - JSON Web Tokens):** 用户登录成功后，服务器会生成一个包含用户信息的Token返回给客户端。客户端将Token存储在本地（例如 Local Storage 或 Cookie），并在后续请求的Header中携带。服务器通过验证Token的签名和内容来识别用户。
		- **优点:** ==无状态==，易于在==分布式系统==中使用，可包含用户信息。
    - **缺点:** 需要在客户端存储Token，存在被窃取的风险，Token过期处理需要考虑。
## JWT
分为`Header`,`Payload`,`Signature`, JSON格式, base64编码存储
- Header: 算法(用于生成`Signature`), 类型(`JWT`)
- Payload: 通用信息 发布者, 发布时间戳, 过期时间戳, 自定义信息
- Signature: header + "." + payload, 用密钥加密后的结果
流程: 用户登录, 服务端验证通过后, 生成 header, payload, 进行加密生成 signature
返回给用户 ==加密密钥不能泄露==
再次访问时, 取出 header + "." + payload 再加密一次, 与 Signature 比对